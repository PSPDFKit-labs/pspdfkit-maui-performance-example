{"version":3,"file":"pspdfkit-lib/chunk-lazy-bd921099-a6690bd2c25042fc.js","mappings":"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","sources":["webpack://PSPDFKit/./src/components/editor/DocumentEditorToolbarButton.tsx","webpack://PSPDFKit/./src/components/editor/DocumentEditorComponent.tsx","webpack://PSPDFKit/./src/styles/images/editor/ sync ^\\.\\/.*\\.svg$"],"sourcesContent":["import type { DocumentEditorToolbarItem } from '@/models/DocumentEditorToolbarItem'\nimport * as React from 'react'\nimport classNames from 'classnames'\nimport ToolNodeComponent from '../tools/ToolNodeComponent'\nimport type { GroupedItemType } from '../toolbar/ToolbarComponent'\nimport { toCamelCase } from '@/utils/string'\nimport { IObject } from '@/typings/utils'\n\nexport const DocumentEditorFittingToolbarButton = React.memo<IProps>(\n  // @ts-expect-error\n  ({\n    items,\n    builtInItems,\n    moveDialog,\n    CSS_HACK: {\n      components: { ToolbarButtonComponent },\n      styles,\n    },\n  }) => {\n    return items.map((item, index) => {\n      const builtInItem = builtInItems.find(b => b.type === item.type)\n\n      if (item.type === 'spacer') {\n        return (\n          <div\n            style={{\n              flex: 1,\n            }}\n            className={item.className}\n            key={`spacer-${index}`}\n          />\n        )\n      } else if (item.type === 'move' && builtInItem) {\n        return (\n          <div key={builtInItem.type} className={styles.moveButtonContainer}>\n            <ToolbarButtonComponent\n              {...builtInItem}\n              icon={require('./../../styles/images/editor/move.svg')}\n              className={classNames(builtInItem.className, item.className)}\n              onPress={e => {\n                builtInItem && builtInItem.onPress && builtInItem.onPress(e)\n              }}\n            />\n            {moveDialog}\n          </div>\n        )\n      } else if (builtInItem) {\n        const svgName = toCamelCase(builtInItem.type)\n\n        return (\n          <ToolbarButtonComponent\n            {...builtInItem}\n            key={builtInItem.type || index}\n            icon={require(`./../../styles/images/editor/${svgName}.svg`)}\n            onPress={e => {\n              builtInItem && builtInItem.onPress && builtInItem.onPress(e)\n            }}\n            className={classNames(builtInItem.className, item.className)}\n          />\n        )\n      } else if (item.type === 'custom' && item.node) {\n        const { type, ...rest } = item\n\n        return (\n          // @ts-expect-error\n          <ToolNodeComponent\n            {...rest}\n            onPress={e => item.onPress && item.onPress(e, item.id)}\n            key={item.id || index}\n          />\n        )\n      } else {\n        return (\n          <ToolbarButtonComponent\n            {...item}\n            // @ts-expect-error\n            key={(builtInItem && builtInItem.type) || index}\n            onPress={e => item.onPress && item.onPress(e, item.id)}\n          />\n        )\n      }\n    })\n  },\n)\n\nexport const DocumentEditorOverflowingToolbarButton = React.memo<IOverFlowingProps>(\n  // @ts-expect-error\n  ({\n    items,\n    builtInItems,\n    CSS_HACK: {\n      components: { ToolbarDropdownGroupComponent, ToolbarButtonComponent },\n      styles,\n    },\n    frameWindow,\n  }) => {\n    const _items = items.map(({ item, index }) => {\n      const builtIn = builtInItems.find(b => b.type === item.type)\n\n      return builtIn\n        ? {\n            index,\n            item: {\n              ...builtIn,\n              className: classNames(builtIn.className, item.className),\n              onPress: e => {\n                builtIn.onPress && builtIn.onPress(e)\n              },\n            },\n          }\n        : {\n            item,\n            index,\n          }\n    })\n\n    return (\n      _items.length > 0 && (\n        <>\n          <div\n            style={{\n              flex: 1,\n            }}\n            key=\"spacer-responsive\"\n          />\n          <ToolbarDropdownGroupComponent\n            icon={{\n              type: 'more',\n              size: {\n                width: 20,\n                height: 20,\n              },\n            }}\n            items={_items}\n            discreteDropdown={true}\n            caretDirection=\"down\"\n            role=\"menu\"\n            ItemComponent={({ item, isSelectedItem, state, itemComponentProps }) => {\n              const builtIn = !isSelectedItem && builtInItems.find(b => b.type === item.item.type)\n\n              if (isSelectedItem) return null\n\n              const svgName = builtIn && builtIn.type ? toCamelCase(builtIn.type) : ''\n\n              return !item.item.node ? (\n                <ToolbarButtonComponent\n                  {...item.item}\n                  role=\"menuitem\"\n                  className={classNames(\n                    item.item.className,\n                    styles.toolbar.dropdownButton,\n                    state === 'Focused' && styles.toolbar['dropdownButton' + state],\n                  )}\n                  icon={\n                    builtIn\n                      ? require(`./../../styles/images/editor/${svgName}.svg`)\n                      : item.item.icon\n                  }\n                  itemComponentProps={itemComponentProps}\n                />\n              ) : (\n                <ToolNodeComponent\n                  {...item.item}\n                  onPress={item.item.onPress ? e => item.item.onPress(e, item.id) : undefined}\n                  key={item.item.id || item.index}\n                />\n              )\n            }}\n            onSelect={(event: MouseEvent | KeyboardEvent, selectedItem: GroupedItemType) => {\n              const { onPress, disabled } = selectedItem.item\n\n              if (disabled) {\n                return\n              }\n\n              if (onPress) {\n                onPress(event)\n              }\n            }}\n            noInitialSelection={true}\n            frameWindow={frameWindow}\n          />\n        </>\n      )\n    )\n  },\n)\n\nexport type CssHack = {\n  components: Record<string, React.ComponentType<any>>\n  styles: IObject\n}\n\ntype IProps = {\n  items: DocumentEditorToolbarItem[]\n  builtInItems: DocumentEditorToolbarItem[]\n  moveDialog: any\n  CSS_HACK: CssHack\n}\ntype IOverFlowingProps = {\n  items: {\n    index: number\n    item: DocumentEditorToolbarItem\n  }[]\n  builtInItems: DocumentEditorToolbarItem[]\n  CSS_HACK: CssHack\n  frameWindow: Window\n}\n","import * as React from 'react'\nimport classNames from 'classnames'\nimport { List, Map, Set } from 'immutable'\nimport { defineMessages, useIntl } from 'react-intl'\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\nimport { absurd, PSPDFKitError, showAlert, invariant } from '@pspdfkit/shared'\nimport { Button } from '@pspdfkit/ui'\nimport {\n  computeThumbnailParams,\n  default as PageThumbnailComponent,\n} from '../grid/PageThumbnailComponent'\nimport { A4_HEIGHT, A4_WIDTH, BREAKPOINT_SM } from '@/constants/config'\nimport { applyOperationsAndReloadDocument } from '@/actions/documentOperations'\nimport { downloadPdfFromBuffer } from '@/utils/dom'\nimport { Color, Page, Size } from '@/models'\nimport { serializeDocumentOperation } from '@/lib/serializers/utils'\nimport genericMessages from '../messages'\nimport GridViewComponent from '../GridViewComponent'\nimport InlineSVGComponent from '../InlineSVGComponent'\nimport LoadingComponent from '../LoadingComponent'\nimport ResizeHelperComponent from '../helpers/ResizeHelperComponent'\nimport ToolNodeComponent from '../tools/ToolNodeComponent'\nimport {\n  DocumentEditorFittingToolbarButton,\n  DocumentEditorOverflowingToolbarButton,\n} from './DocumentEditorToolbarButton'\n\nimport type { IntlShape } from 'react-intl'\nimport type { MoveCursorData } from '../GridViewComponent'\nimport type { DocumentOperation } from '@/models/DocumentOperation'\nimport type { DocumentEditorToolbarItem } from '@/models/DocumentEditorToolbarItem'\nimport type { DocumentEditorFooterItem } from '@/models/DocumentEditorFooterItem'\nimport type { CssHack } from './DocumentEditorToolbarButton'\nimport type { IFunction } from '@/typings/utils'\nimport type { State } from '@/models'\nimport type { Backend } from '@/typings/backend'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { AnyAction } from 'redux'\n\ndeclare const chrome\n\ndeclare class pspdfKitBridge {\n  openDocumentAsync(): Promise<string>\n}\n\ntype SelectedState = {\n  pages: List<Page>\n  backend: Backend\n  frameWindow: Window\n  footerItems: DocumentEditorFooterItem[]\n  toolbarItems: DocumentEditorToolbarItem[]\n}\n\ntype Props = {\n  onCancel: () => void\n  // TODO see TODO in DocumentEditorModalComponent.\n  CSS_HACK: CssHack\n  scale: number\n  onDialog: IFunction\n}\n\nconst a4Size = new Size({\n  width: A4_WIDTH,\n  height: A4_HEIGHT,\n})\n\nconst MAX_DRAG_PREVIEW_PAGES = 5\n\nconst DocumentEditorComponent = (props: Props) => {\n  const { onCancel, onDialog } = props\n  const { pages, backend, frameWindow, footerItems, toolbarItems } = useSelector<\n    State,\n    SelectedState\n  >(\n    ({ pages, backend, frameWindow, documentEditorFooterItems, documentEditorToolbarItems }) =>\n      ({\n        pages,\n        backend,\n        frameWindow,\n        footerItems: documentEditorFooterItems.toJS(),\n        toolbarItems: documentEditorToolbarItems.toJS(),\n      } as SelectedState),\n    shallowEqual,\n  )\n  const dispatch = useDispatch<ThunkDispatch<State, undefined, AnyAction>>()\n  const { formatMessage } = useIntl()\n  const { styles } = props.CSS_HACK\n  const [uwpFilenames, setUwpFilenames] = React.useState<Map<string, string>>(Map())\n  // The list of document operations that will be applied when the user clicks\n  // 'Save'/'Save As'\n  const [operations, setOperations] = React.useState<\n    List<DocumentOperation | List<DocumentOperation>>\n  >(List())\n  // How many times the user has clicked undo (increased if the user presses\n  // redo)\n  const [undoDepth, setUndoDepth] = React.useState(0)\n  // The list of document operations, respecting the amount of times the user\n  // has clicked undo (what will be previewed in the document editor)\n  const undidOperations = operations.slice(0, operations.size - undoDepth)\n  // A previewed list of pages in the document which we generate by doing a\n  // 'dry run' of the operations, although we have to do this ourselves because\n  // it's not possible to do this via Core\n  const editorPages = getEditorPages(pages, undidOperations, formatMessage, uwpFilenames)\n  // Set of selected page indexes (zero indexed)\n  const [selectedIndexes, setSelectedIndexes] = React.useState<Set<number>>(Set())\n  const [isCommitting, setIsCommitting] = React.useState(false)\n  const [useLargeThumbnails, setUseLargeThumbnails] = React.useState(false)\n  const moveDialogRef = React.useRef<HTMLElement | null | undefined>(null)\n  const moveDialogInputRef = React.useRef<HTMLElement | null | undefined>(null)\n  const [moveDialogShown, setMoveDialogShown] = React.useState(false)\n  const [moveDialogInputValue, setMoveDialogInputValue] = React.useState('')\n  const syncMoveDialogFocus = React.useCallback(() => {\n    const input = moveDialogInputRef.current\n\n    if (input != null) {\n      if (moveDialogShown && input.ownerDocument.activeElement !== input) {\n        input.focus()\n      } else if (!moveDialogShown && input.ownerDocument.activeElement === input) {\n        input.blur()\n      }\n    }\n  }, [moveDialogShown])\n  const setMoveDialogShownAndNotify = React.useCallback(\n    shown => {\n      setMoveDialogShown(shown)\n      syncMoveDialogFocus()\n      onDialog(shown)\n    },\n    [onDialog, syncMoveDialogFocus],\n  )\n\n  React.useEffect(() => {\n    // Make sure the input inside move dialog handles focus correctly when opened.\n    syncMoveDialogFocus()\n  }, [syncMoveDialogFocus])\n\n  const pushOperation = React.useCallback(\n    (operationOrOperationList: DocumentOperation | List<DocumentOperation>) => {\n      setOperations(undidOperations.push(operationOrOperationList))\n      setUndoDepth(0)\n    },\n    [undidOperations],\n  )\n  const isAliveRef = React.useRef(true)\n\n  React.useLayoutEffect(\n    () => () => {\n      if (isAliveRef.current) {\n        isAliveRef.current = false\n      }\n    },\n    [],\n  )\n\n  const handleAddClick = React.useCallback(() => {\n    const firstPage = pages.get(0)\n    const size = firstPage ? firstPage.pageSize : a4Size\n    const operation: any = {\n      type: 'addPage',\n      backgroundColor: Color.WHITE,\n      pageWidth: size.width,\n      pageHeight: size.height,\n      rotateBy: 0,\n    }\n\n    if (selectedIndexes.size === 1) {\n      operation.afterPageIndex = selectedIndexes.first()\n    } else {\n      operation.beforePageIndex = 0\n    }\n\n    pushOperation(operation)\n    setSelectedIndexes(selectedIndexes.clear())\n  }, [pages, selectedIndexes, pushOperation])\n  const handleRemoveClick = React.useCallback(() => {\n    pushOperation({\n      type: 'removePages',\n      pageIndexes: selectedIndexes.toArray(),\n    })\n    setSelectedIndexes(selectedIndexes.clear())\n  }, [pushOperation, selectedIndexes])\n  const handleDuplicateClick = React.useCallback(() => {\n    pushOperation({\n      type: 'duplicatePages',\n      pageIndexes: selectedIndexes.toArray(),\n    })\n    setSelectedIndexes(selectedIndexes.clear())\n  }, [pushOperation, selectedIndexes])\n  const handleRotateLeftClick = React.useCallback(() => {\n    pushOperation({\n      type: 'rotatePages',\n      pageIndexes: selectedIndexes.toArray(),\n      rotateBy: 270,\n    })\n  }, [pushOperation, selectedIndexes])\n  const handleRotateRightClick = React.useCallback(() => {\n    pushOperation({\n      type: 'rotatePages',\n      pageIndexes: selectedIndexes.toArray(),\n      rotateBy: 90,\n    })\n  }, [pushOperation, selectedIndexes])\n  const handleMoveClick = React.useCallback(() => {\n    setMoveDialogShownAndNotify(!moveDialogShown)\n  }, [moveDialogShown, setMoveDialogShownAndNotify])\n  const handleMoveDialogInputChange = React.useCallback(\n    event => {\n      const value = event.target.value\n      let newValue = value\n      const parsedValue = parseInt(value, 10)\n\n      if (!isNaN(parsedValue)) {\n        newValue = Math.min(Math.max(parsedValue, 0), editorPages.size).toString()\n      }\n\n      setMoveDialogInputValue(newValue)\n    },\n    [editorPages.size],\n  )\n  const moveDialogPageIndex = parseInt(moveDialogInputValue, 10)\n  const getIsContiguousSelection = React.useCallback((selection: Set<number>) => {\n    const isSingle = selection.size === 1\n    let lastIndex\n\n    return (\n      isSingle ||\n      selection.sort().find(index => {\n        // Check if any selected indexes has a gap from the previous one\n        let isNonContiguous = false\n\n        if (lastIndex != null) {\n          isNonContiguous = index !== lastIndex + 1\n        }\n\n        lastIndex = index\n\n        return isNonContiguous\n      }) == null\n    )\n  }, [])\n  const canMoveToPageIndex = React.useCallback(\n    (pageIndex: number, dragSelection?: Set<number>) => {\n      const selection = dragSelection != null ? dragSelection : selectedIndexes\n      const isContiguous = getIsContiguousSelection(selection)\n      const cantMoveToPageIndex = // We can't move a page after itself\n        selection.includes(pageIndex - 1) || // We can't move pages to the beginning if they are already there\n        (pageIndex === 0 && isContiguous && selection.includes(0)) || // We can't move pages after a page that they are already after\n        (isContiguous && selection.sort().first() === pageIndex)\n\n      return !cantMoveToPageIndex\n    },\n    [selectedIndexes, getIsContiguousSelection],\n  )\n  const canMoveToDialogPageIndex =\n    !isNaN(moveDialogPageIndex) && canMoveToPageIndex(moveDialogPageIndex)\n  const movePagesTo = React.useCallback(\n    (pageIndex: number, dragSelection?: Set<number>) => {\n      const selection = dragSelection != null ? dragSelection : selectedIndexes\n      const afterPageIndex = pageIndex - 1\n\n      pushOperation({\n        type: 'movePages',\n        pageIndexes: selection.toArray(),\n        ...(pageIndex === 0\n          ? {\n              beforePageIndex: 0,\n            }\n          : {\n              afterPageIndex,\n            }),\n      })\n\n      let nextSelectedIndexes = Set()\n      // If we are moving to the beginning of the document (moveDialogPageIndex\n      // === 0), then the next selection can simply start at zero.\n      let selectedIndexesStart = 0\n\n      if (pageIndex !== 0) {\n        // If we are _not_ moving to the beginning of the document, we initially\n        // set the start of the next selection to after the destination page.\n        // Then, we need to see how many selected pages come before the\n        // destination page. For each page that comes before, we decrement the\n        // start of the selection, because once that page is moved, the page at\n        // that index will be shifted down.\n        selectedIndexesStart = afterPageIndex + 1\n        selection.forEach(index => {\n          if (index < afterPageIndex) {\n            --selectedIndexesStart\n          }\n        })\n      }\n\n      // Now we construct the next selection starting from selectedIndexesStart,\n      // having the same number of indexes as the previous selection.\n      let selectedIndex = selectedIndexesStart\n\n      selection.forEach(() => {\n        nextSelectedIndexes = nextSelectedIndexes.add(selectedIndex)\n        ++selectedIndex\n      })\n      setSelectedIndexes(nextSelectedIndexes)\n    },\n    [selectedIndexes, pushOperation, setSelectedIndexes],\n  )\n  const handleMoveDialogFormSubmit = React.useCallback(\n    event => {\n      // Prevent running form action (redirect)\n      event.preventDefault()\n\n      if (!canMoveToDialogPageIndex) {\n        return\n      }\n\n      movePagesTo(moveDialogPageIndex)\n      setMoveDialogShownAndNotify(false)\n    },\n    [canMoveToDialogPageIndex, moveDialogPageIndex, setMoveDialogShownAndNotify, movePagesTo],\n  )\n  const handleDocumentEditorClick = React.useCallback(\n    event => {\n      const target = event.target as HTMLElement\n\n      if (!moveDialogShown || target.classList.contains(styles.moveToolbarButton)) {\n        // Ignore click if move dialog is not shown or if Move button was clicked.\n        // The Move button has its own click handler.\n        return\n      }\n\n      const moveDialog = moveDialogRef.current\n\n      invariant(moveDialog != null)\n\n      if (!moveDialog.contains(target)) {\n        setMoveDialogShownAndNotify(false)\n      }\n    },\n    [moveDialogShown, setMoveDialogShownAndNotify, styles.moveToolbarButton],\n  )\n  const handleMoveLeftClick = React.useCallback(() => {\n    const operations = selectedIndexes\n      .sort()\n      .toList()\n      .map<DocumentOperation>(index => ({\n        type: 'movePages',\n        pageIndexes: [index],\n        beforePageIndex: index - 1,\n      }))\n\n    pushOperation(operations)\n    // It's been a while since I wrote this but I'm pretty sure we had to\n    // convert to array and back to set again because Set#map() was buggy\n    setSelectedIndexes(Set(selectedIndexes.toArray().map(pageIndex => pageIndex - 1)))\n  }, [pushOperation, selectedIndexes])\n  const handleMoveRightClick = React.useCallback(() => {\n    const operations = selectedIndexes\n      .sort()\n      .toList()\n      .map<DocumentOperation>(index => ({\n        type: 'movePages',\n        pageIndexes: [index],\n        afterPageIndex: index + 1,\n      }))\n\n    pushOperation(operations)\n    setSelectedIndexes(Set(selectedIndexes.toArray().map(pageIndex => pageIndex + 1)))\n  }, [pushOperation, selectedIndexes])\n  const handleUndoClick = React.useCallback(() => {\n    setSelectedIndexes(selectedIndexes.clear())\n    setUndoDepth(undoDepth + 1)\n  }, [selectedIndexes, undoDepth])\n  const handleRedoClick = React.useCallback(() => {\n    setSelectedIndexes(selectedIndexes.clear())\n    setUndoDepth(undoDepth - 1)\n  }, [selectedIndexes, undoDepth])\n  const handleImportClick = React.useCallback(async () => {\n    const position: {\n      afterPageIndex?: number\n      beforePageIndex?: number\n    } = {}\n\n    if (selectedIndexes.size === 1) {\n      position.afterPageIndex = selectedIndexes.first<number>()\n    } else {\n      position.beforePageIndex = 0\n    }\n\n    if (PSPDFKIT_DEFINES.STANDALONE_NATIVE) {\n      const PSPDFBridge: pspdfKitBridge = chrome.webview.hostObjects.sync.PSPDFBridge\n      const uwpDocument = JSON.parse(await PSPDFBridge.openDocumentAsync())\n\n      if (uwpDocument.filename == null) {\n        // User cancelled the dialog\n        return\n      }\n\n      const path: string = uwpDocument.path\n      const filename: string = uwpDocument.filename\n\n      setUwpFilenames(uwpFilenames.set(path, filename))\n      pushOperation({\n        type: 'importDocument',\n        treatImportedDocumentAsOnePage: true,\n        document: path,\n        ...position,\n      } as DocumentOperation)\n    } else {\n      const inputEl = document.createElement('input')\n\n      inputEl.type = 'file'\n      inputEl.accept = 'application/pdf'\n\n      inputEl.onclick = event => {\n        invariant(event.target instanceof HTMLInputElement)\n\n        event.target.value = ''\n      }\n\n      inputEl.onchange = event => {\n        invariant(event.target instanceof HTMLInputElement)\n\n        if (event.target.files?.length === 0) {\n          return\n        }\n\n        let newOperations = undidOperations\n\n        // @ts-expect-error\n        for (const file of event.target.files) {\n          if (typeof file.name !== 'string' || file.name.length === 0) {\n            return\n          }\n\n          if (file.type !== 'application/pdf') {\n            const message = 'The uploaded file must be a PDF.'\n\n            showAlert(message)\n\n            return\n          }\n\n          if (\n            editorPages.findIndex(\n              editorPage =>\n                editorPage.type === 'importedDocument' && editorPage.label === file.name,\n            ) !== -1\n          ) {\n            // Document has already been imported\n            return\n          }\n\n          newOperations = newOperations.push({\n            type: 'importDocument',\n            treatImportedDocumentAsOnePage: true,\n            // File is a Blob\n            document: file,\n            ...position,\n          } as DocumentOperation)\n        }\n\n        setOperations(newOperations)\n        setUndoDepth(0)\n        setSelectedIndexes(selectedIndexes.clear())\n      }\n\n      inputEl.click()\n    }\n  }, [selectedIndexes, uwpFilenames, pushOperation, undidOperations, editorPages])\n  const handleSelectAllClick = React.useCallback(() => {\n    setSelectedIndexes(editorPages.keySeq().toSet())\n  }, [editorPages, setSelectedIndexes])\n  const handleSelectNoneClick = React.useCallback(() => {\n    setSelectedIndexes(selectedIndexes.clear())\n  }, [selectedIndexes, setSelectedIndexes])\n  const handlePageClick = React.useCallback(\n    (index: number) => {\n      if (!selectedIndexes.has(index)) {\n        setSelectedIndexes(selectedIndexes.add(index))\n      } else {\n        setSelectedIndexes(selectedIndexes.delete(index))\n      }\n    },\n    [selectedIndexes, setSelectedIndexes],\n  )\n  const handleCancelClick = React.useCallback(() => {\n    onCancel()\n  }, [onCancel])\n\n  // A dummy `resolve()` callback is passed now, but it can be used to be notified when\n  // modifications and reloading are complete.\n  // However, keep in mind that when the document is reloaded, interactionMode is set to `null`\n  // and the Document Editor UI will disappear.\n  const handleSaveClick = React.useCallback(() => {\n    setIsCommitting(true)\n    dispatch(\n      applyOperationsAndReloadDocument(\n        undidOperations.flatten().toArray() as DocumentOperation[],\n        () => {\n          if (isAliveRef.current) {\n            setIsCommitting(false)\n          }\n        },\n        e => {\n          if (isAliveRef.current) {\n            setIsCommitting(false)\n          }\n\n          throw e\n        },\n      ),\n    )\n  }, [dispatch, undidOperations])\n\n  const handleSaveAsClick = React.useCallback(async () => {\n    setIsCommitting(true)\n\n    try {\n      const buffer = await backend.exportPDFWithOperations(\n        // @ts-expect-error\n        undidOperations.flatten().toArray().map(serializeDocumentOperation),\n      )\n\n      downloadPdfFromBuffer(buffer, frameWindow)\n    } catch (e) {\n      throw e\n    } finally {\n      if (isAliveRef.current) {\n        setIsCommitting(false)\n      }\n    }\n  }, [backend, undidOperations, frameWindow])\n\n  const renderPage = (index: number, size: number, maxSize: number, movePreview?: boolean) => {\n    const editorPage = editorPages.get(index)\n\n    invariant(editorPage != null)\n\n    let item\n\n    switch (editorPage.type) {\n      case 'page': {\n        item = (\n          <PageThumbnailComponent\n            key={`page-${editorPage.label}`}\n            page={editorPage.page}\n            size={size}\n            maxSize={maxSize}\n            rotation={editorPage.rotation}\n          />\n        )\n        break\n      }\n\n      case 'newPage': {\n        const { rotatedWidth, rotatedHeight } = computeThumbnailParams(\n          editorPage.size,\n          editorPage.rotation,\n          size,\n          maxSize,\n        )\n\n        item = (\n          <div\n            key={`newPage-${editorPage.label}`}\n            className={styles.newPage}\n            style={{\n              width: rotatedWidth,\n              height: rotatedHeight,\n            }}\n          />\n        )\n        break\n      }\n\n      case 'importedDocument': {\n        const { containerWidth, containerHeight } = computeThumbnailParams(a4Size, 0, size, maxSize)\n\n        item = (\n          <ImportedDocumentPlaceholder\n            width={containerWidth}\n            height={containerHeight}\n            movePreview={movePreview}\n            key={`importedDoc-${editorPage.label}`}\n            styles={styles}\n            formatMessage={formatMessage}\n          />\n        )\n        break\n      }\n\n      default:\n        item = <></>\n        // @ts-expect-error\n        absurd(editorPage.type)\n    }\n\n    return {\n      item,\n      label: editorPage.label,\n      props:\n        editorPage.type === 'page'\n          ? {\n              'data-original-page-index': editorPage.page.pageIndex,\n            }\n          : {},\n    }\n  }\n\n  const renderDragPreview = (\n    selectedIndexes: number[],\n    targetIndex: number,\n    itemSize: number,\n    maxSize: number,\n  ) => {\n    const renderedPages = List(selectedIndexes)\n      .filter(it => it !== targetIndex)\n      .sort()\n      .push(targetIndex)\n      .slice(-MAX_DRAG_PREVIEW_PAGES)\n      .map(index => {\n        return renderPage(index, itemSize, maxSize, true).item\n      })\n      .toArray()\n\n    return (\n      <MovePreviewComponent\n        pages={renderedPages}\n        style=\"straight\"\n        styles={styles}\n        previewCount={selectedIndexes.length}\n      />\n    )\n  }\n\n  const canRemove =\n    selectedIndexes.size > 0 && selectedIndexes.size !== editorPages.size && !isCommitting\n  const canRotate =\n    selectedIndexes.size > 0 &&\n    selectedIndexes.find(index => {\n      const editorPage = editorPages.get(index)\n\n      invariant(editorPage != null)\n\n      return editorPage.type !== 'page' && editorPage.type !== 'newPage'\n    }) === undefined\n  const canDuplicate =\n    selectedIndexes.size > 0 &&\n    selectedIndexes.find(index => {\n      const editorPage = editorPages.get(index)\n\n      invariant(editorPage != null)\n\n      return editorPage.type !== 'page'\n    }) === undefined\n  const canMove =\n    !selectedIndexes.isEmpty() && selectedIndexes.size !== editorPages.size && !isCommitting\n  const canMoveLeft = !selectedIndexes.isEmpty() && !selectedIndexes.includes(0)\n  const canMoveRight = !selectedIndexes.isEmpty() && !selectedIndexes.includes(editorPages.size - 1)\n  const canUndo = undoDepth < operations.size\n  const canRedo = undoDepth > 0\n  const canSelectAll = selectedIndexes.size < editorPages.size && !isCommitting\n  const canSelectNone = !selectedIndexes.isEmpty() && !isCommitting\n  const docEditorRef = React.useRef<HTMLElement | null | undefined>(null)\n  const docEditorFocusedRef = React.useRef(false)\n\n  const canInsert = (selectedPages: number[], target: number) => {\n    return canMoveToPageIndex(target, Set(selectedPages))\n  }\n\n  React.useLayoutEffect(() => {\n    const docEditor = docEditorRef.current\n\n    if (docEditor == null) {\n      return\n    }\n\n    // When first shown the document editor may not be focused, preventing\n    // shortcuts from being recognized\n    if (!docEditorFocusedRef.current) {\n      docEditor.focus()\n      docEditorFocusedRef.current = true\n    }\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (document.activeElement != null && document.activeElement.tagName === 'INPUT') {\n        return\n      }\n\n      if (isCommitting) {\n        return\n      }\n\n      const key = event.key.toLowerCase()\n      const metaOrCtrl = event.metaKey || event.ctrlKey\n      const metaOrCtrlOnly = metaOrCtrl && !event.shiftKey && !event.altKey\n      const altKeyOnly = event.altKey && !metaOrCtrl && !event.shiftKey\n      const noModifiers = !metaOrCtrl && !event.shiftKey && !event.altKey\n\n      // Keyboard shortcuts:\n      //\n      // (N)ew Page\n      // (D)elete Pages\n      // (C)lone (Duplicate)\n      // (M)ove\n      // (I)mport Document\n      //\n      // Alt+Left         = Move Left\n      // Alt+Right        = Move Right\n      // Alt+Shift+Left   = Rotate Left\n      // Alt+Shift+Right  = Rotate Right\n      // Ctrl/Cmd+Z       = Undo\n      // Ctrl/Cmd+Shift+Z = Redo\n      // Ctrl/Cmd+A       = Select All\n      // Ctrl/Cmd+D       = Select None\n      if (event.altKey && event.shiftKey && !metaOrCtrl && key === 'arrowleft' && canRotate) {\n        handleRotateLeftClick()\n      } else if (\n        event.altKey &&\n        event.shiftKey &&\n        !metaOrCtrl &&\n        key === 'arrowright' &&\n        canRotate\n      ) {\n        handleRotateRightClick()\n      } else if (altKeyOnly && key === 'arrowleft' && canMoveLeft) {\n        handleMoveLeftClick()\n      } else if (altKeyOnly && key === 'arrowright' && canMoveRight) {\n        handleMoveRightClick()\n      } else if (metaOrCtrl && event.shiftKey && !event.altKey && key === 'z' && canRedo) {\n        handleRedoClick()\n      } else if (metaOrCtrlOnly && key === 'z' && canUndo) {\n        handleUndoClick()\n      } else if (metaOrCtrlOnly && key === 'a' && canSelectAll) {\n        handleSelectAllClick()\n      } else if (metaOrCtrlOnly && key === 'd' && canSelectNone) {\n        handleSelectNoneClick()\n      } else if (noModifiers && key === 'n') {\n        handleAddClick()\n      } else if (noModifiers && key === 'd' && canRemove) {\n        handleRemoveClick()\n      } else if (noModifiers && key === 'c' && canDuplicate) {\n        handleDuplicateClick()\n      } else if (noModifiers && key === 'l' && canRotate) {\n        handleRotateLeftClick()\n      } else if (noModifiers && key === 'r' && canRotate) {\n        handleRotateRightClick()\n      } else if (noModifiers && key === 'm' && canMove) {\n        setMoveDialogShownAndNotify(true)\n      } else if (noModifiers && key === 'i') {\n        handleImportClick()\n      } else {\n        return\n      }\n\n      event.preventDefault()\n    }\n\n    docEditor.addEventListener('keydown', handleKeyDown)\n\n    return () => {\n      docEditor.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [\n    canDuplicate,\n    canMove,\n    canMoveLeft,\n    canMoveRight,\n    canRedo,\n    canRemove,\n    canRotate,\n    canSelectAll,\n    canSelectNone,\n    canUndo,\n    handleAddClick,\n    handleDuplicateClick,\n    handleImportClick,\n    handleMoveLeftClick,\n    handleMoveRightClick,\n    handleRedoClick,\n    handleRemoveClick,\n    handleRotateLeftClick,\n    handleRotateRightClick,\n    handleSelectAllClick,\n    handleSelectNoneClick,\n    handleUndoClick,\n    isCommitting,\n    setMoveDialogShownAndNotify,\n  ])\n\n  const toolbarButtonClassName = styles.toolbar.toolbarButton\n  const builtInToolbarItems = [\n    {\n      type: 'add',\n      onPress: handleAddClick,\n      className: toolbarButtonClassName,\n      disabled: isCommitting,\n      children: formatMessage(messages.newPage),\n    },\n    {\n      type: 'remove',\n      onPress: handleRemoveClick,\n      className: toolbarButtonClassName,\n      disabled: !canRemove,\n      children: formatMessage(messages.removePage),\n    },\n    {\n      type: 'duplicate',\n      onPress: handleDuplicateClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.duplicatePage),\n      disabled: !canDuplicate || isCommitting,\n    },\n    {\n      type: 'rotate-left',\n      onPress: handleRotateLeftClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.rotatePageLeft),\n      disabled: !canRotate || isCommitting,\n    },\n    {\n      type: 'rotate-right',\n      onPress: handleRotateRightClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.rotatePageRight),\n      disabled: !canRotate || isCommitting,\n    },\n    {\n      type: 'move',\n      onPress: handleMoveClick,\n      className: classNames(toolbarButtonClassName, styles.moveToolbarButton),\n      children: formatMessage(messages.openMoveDialog),\n      disabled: !canMove,\n    },\n    {\n      type: 'move-left',\n      onPress: handleMoveLeftClick,\n      className: styles.toolbar.toolbarButton,\n      children: formatMessage(messages.moveBefore),\n      disabled: !canMoveLeft || isCommitting,\n    },\n    {\n      type: 'move-right',\n      onPress: handleMoveRightClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.moveAfter),\n      disabled: !canMoveRight || isCommitting,\n    },\n    {\n      type: 'import-document',\n      onPress: handleImportClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.mergeDocument),\n      disabled: isCommitting,\n    },\n    {\n      type: 'spacer',\n    },\n    {\n      type: 'undo',\n      onPress: handleUndoClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(genericMessages.undo),\n      disabled: !canUndo || isCommitting,\n    },\n    {\n      type: 'redo',\n      onPress: handleRedoClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(genericMessages.redo),\n      disabled: !canRedo || isCommitting,\n    },\n    {\n      type: 'select-all',\n      onPress: handleSelectAllClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.selectAll),\n      disabled: !canSelectAll,\n    },\n    {\n      type: 'select-none',\n      onPress: handleSelectNoneClick,\n      className: toolbarButtonClassName,\n      children: formatMessage(messages.selectNone),\n      disabled: !canSelectNone,\n    },\n  ]\n  const [fittingToolbarItemsIndex, setFittingToolbarItemsIndex] = React.useState(\n    Number.POSITIVE_INFINITY,\n  )\n  // Here we split the toolbarItems in two arrays:\n  // 1. The items that fit in the toolbar.\n  // 2. The overflowing ones that will be rendered in a dropdown.\n  //\n  // When they all fit 2. will obviously be an empty array.\n  const [fittingToolbarItems, overflowingToolbarItems] = React.useMemo(() => {\n    if (fittingToolbarItemsIndex === Number.POSITIVE_INFINITY) {\n      return [toolbarItems, []]\n    }\n\n    return [\n      toolbarItems.slice(0, fittingToolbarItemsIndex),\n      toolbarItems\n        .slice(fittingToolbarItemsIndex)\n        .filter(item => item.type !== 'spacer')\n        .map((item, index) => ({\n          index,\n          item: { ...item, dropdownGroup: 'documentEditor' },\n        })),\n    ]\n  }, [toolbarItems, fittingToolbarItemsIndex])\n  const [editorSize, setEditorSize] = React.useState(new Size())\n  const onResize = React.useCallback(\n    rect => {\n      setEditorSize(prevEditorSize => {\n        if (prevEditorSize.width !== rect.width) {\n          // This could unfortunately lead to losing focus in the move page dialog,\n          // causing issues with iPad's auxiliary keyboard bar displayed at the bottom\n          // when input has focus and HW keyboard is connected. To fix/workaround this\n          // issue, we fit toolbar items only when the horizontal size changed and skip\n          // the toolbar items measurement for vertical-only resizes.\n          // On horizontal resize we re-render ALL the toolbar items so\n          // that in the next useLayoutEffect we can measure how many fit.\n          setFittingToolbarItemsIndex(Number.POSITIVE_INFINITY)\n        }\n\n        return new Size({\n          width: rect.width,\n          height: rect.height,\n        })\n      })\n    },\n    [setEditorSize, setFittingToolbarItemsIndex],\n  )\n  const toolbarRef = React.useRef(null)\n\n  // In this LayoutEffect we find the index of the last toolbar item that fits.\n  React.useLayoutEffect(() => {\n    const toolbar = toolbarRef.current\n\n    if (!toolbar || editorSize.width === 0) {\n      return\n    }\n\n    // @ts-expect-error\n    const items = toolbar.children\n\n    // Bail when the rendered items === fittingToolbarItemsIndex\n    // otherwise we'd have an infinite loop.\n    if (items.length === fittingToolbarItemsIndex) {\n      return\n    }\n\n    // Find the index of the first item that overflows.\n    // Starts from 44 that is the size of the dropdown button for the overflowing items.\n    // Also add padding.\n    // @ts-expect-error\n    const computedStyles = toolbar.ownerDocument.defaultView.getComputedStyle(toolbar)\n    let totalWidth =\n      44 +\n      (parseInt(computedStyles.getPropertyValue('padding-left')) || 0) +\n      (parseInt(computedStyles.getPropertyValue('padding-right')) || 0)\n    const index = [].findIndex.call(items, (child, index) => {\n      // Ignore spacer size as it just fills in empty space and shrinks as needed.\n      if (toolbarItems[index].type === 'spacer') {\n        return false\n      }\n\n      // @ts-expect-error\n      totalWidth += child.clientWidth\n\n      return totalWidth > editorSize.width\n    })\n\n    if (index === -1) {\n      setFittingToolbarItemsIndex(Number.POSITIVE_INFINITY)\n    } else {\n      setFittingToolbarItemsIndex(index)\n    }\n\n    // @ts-expect-error\n    const currentWindow = toolbar.ownerDocument.defaultView\n\n    if (currentWindow.innerWidth >= BREAKPOINT_SM) {\n      setUseLargeThumbnails(true)\n    } else {\n      setUseLargeThumbnails(false)\n    }\n  }, [editorSize, fittingToolbarItemsIndex, setFittingToolbarItemsIndex, toolbarItems])\n\n  const handleKeyDown = React.useCallback(\n    event => {\n      if (event.key === 'Escape' && moveDialogShown) {\n        setMoveDialogShownAndNotify(false)\n        event.stopPropagation()\n      }\n    },\n    [moveDialogShown, setMoveDialogShownAndNotify],\n  )\n  const moveToolbarButtonFits = React.useMemo(() => {\n    return fittingToolbarItems.find(item => item.type === 'move') != null\n  }, [fittingToolbarItems])\n  const moveDialog = (\n    <div\n      className={classNames(\n        styles.moveDialog,\n        {\n          [styles.moveDialogShown]: moveDialogShown,\n          [styles.moveDialogDetached]: !moveToolbarButtonFits,\n        },\n        'PSPDFKit-DocumentEditor-MoveDialog',\n      )}\n      ref={moveDialogRef as any}\n    >\n      <form onSubmit={handleMoveDialogFormSubmit} className={styles.moveDialogForm}>\n        <span className={styles.moveDialogFormLabel}>\n          {formatMessage(messages.insertAfterPage)}\n        </span>\n\n        <input\n          className={styles.moveDialogFormInput}\n          type=\"number\"\n          min=\"0\"\n          max={editorPages.size}\n          value={moveDialogInputValue}\n          onChange={handleMoveDialogInputChange}\n          ref={moveDialogInputRef as any}\n        />\n        <Button\n          type=\"submit\"\n          className={styles.moveDialogMoveButton}\n          disabled={!canMoveToDialogPageIndex}\n        >\n          {formatMessage(messages.move)}\n        </Button>\n      </form>\n\n      <div className={styles.moveDialogHint}>\n        <p className={styles.moveDialogHintText}>\n          {formatMessage(messages.docEditorMoveBeginningHint)}\n        </p>\n      </div>\n    </div>\n  )\n  const handleMovePages = React.useCallback(\n    (oldIndexes: number[], newIndex: number) => {\n      const dragSelection = Set(oldIndexes)\n\n      if (!canMoveToPageIndex(newIndex, dragSelection)) {\n        return\n      }\n\n      movePagesTo(newIndex, dragSelection)\n    },\n    [movePagesTo, canMoveToPageIndex],\n  )\n  let moveCursor: MoveCursorData | null | undefined\n  const renderMoveDialogCursor = moveDialogShown && !isNaN(moveDialogPageIndex)\n\n  if (renderMoveDialogCursor) {\n    const renderedPages = selectedIndexes\n      .toList()\n      .sort()\n      .map(index => {\n        return renderPage(index, 160, 160, true).item\n      })\n      .toArray()\n    const movePreview = (\n      <MovePreviewComponent pages={renderedPages} style=\"straight\" styles={styles} />\n    )\n\n    if (renderMoveDialogCursor) {\n      if (moveDialogPageIndex === 0) {\n        moveCursor = {\n          previewContent: movePreview,\n          pageIndex: 0,\n          position: 'left',\n        }\n      } else {\n        moveCursor = {\n          previewContent: movePreview,\n          pageIndex: moveDialogPageIndex - 1,\n          position: 'right',\n        }\n      }\n\n      if (!canMoveToDialogPageIndex) {\n        ;(moveCursor as MoveCursorData).disabled = true\n      }\n    }\n  }\n\n  const draggingEnabled = !moveDialogShown\n  const footerItemsBuiltIn = React.useMemo<\n    Record<\n      string,\n      {\n        element: React.ReactElement<any>\n        onPress?: IFunction\n        disabled?: boolean\n        hide?: boolean\n        className?: string\n      }\n    >\n  >(() => {\n    return {\n      cancel: {\n        element: <Button>{formatMessage(genericMessages.cancel)}</Button>,\n        onPress: handleCancelClick,\n        className: 'PSPDFKit-DocumentEditor-CancelButton',\n      },\n      'selected-pages': {\n        element: (\n          <div>\n            <div className={styles.pagesSelectedIcon}>\n              <InlineSVGComponent src={require('../../styles/images/editor/multiplePages.svg')} />\n            </div>\n\n            {formatMessage(messages.pagesSelected, {\n              arg0: selectedIndexes.size,\n            })}\n          </div>\n        ),\n        className: classNames({\n          [styles.pagesSelectedIndicator]: true,\n          [styles.pagesSelectedIndicatorShown]: selectedIndexes.size > 0,\n          'PSPDFKit-DocumentEditor-PagesSelectedIndicator': true,\n        }),\n      },\n      spacer: {\n        element: <div />,\n        className: classNames({ [styles.spacer]: true, 'PSPDFKit-DocumentEditor-Spacer': true }),\n      },\n      'loading-indicator': {\n        element: <LoadingComponent />,\n        hide: !isCommitting,\n        className: 'PSPDFKit-DocumentEditor-LoadingIndicator',\n      },\n      'save-as': {\n        element: <Button>{formatMessage(genericMessages.saveAs)}</Button>,\n        onPress: handleSaveAsClick,\n        disabled: isCommitting,\n        className: 'PSPDFKit-DocumentEditor-SaveAsButton',\n      },\n      save: {\n        element: <Button primary={true}>{formatMessage(genericMessages.save)}</Button>,\n        disabled: undidOperations.isEmpty() || isCommitting,\n        onPress: handleSaveClick,\n        className: 'PSPDFKit-DocumentEditor-SaveButton',\n      },\n    }\n  }, [\n    styles,\n    formatMessage,\n    handleCancelClick,\n    handleSaveAsClick,\n    handleSaveClick,\n    isCommitting,\n    undidOperations,\n    selectedIndexes,\n  ])\n\n  const footerComponent = React.useMemo(() => {\n    return footerItems.map((footerItem, i) => {\n      const { onPress, className, type, node, id } = footerItem\n\n      invariant(type)\n\n      if (type === 'custom') {\n        return node ? (\n          <ToolNodeComponent\n            className={className}\n            onPress={onPress ? e => onPress(e, id) : undefined}\n            key={id || i}\n            node={node}\n          />\n        ) : null\n      } else {\n        const builtInFooterItem = footerItemsBuiltIn[type]\n\n        return builtInFooterItem.hide\n          ? null\n          : React.cloneElement(builtInFooterItem.element, {\n              onClick: e => {\n                builtInFooterItem.onPress && builtInFooterItem.onPress(e)\n              },\n              key: type,\n              disabled: builtInFooterItem.disabled,\n              className: classNames(builtInFooterItem.className, className),\n            })\n      }\n    })\n  }, [footerItems, footerItemsBuiltIn])\n\n  return (\n    <div\n      className={classNames(styles.docEditor, 'PSPDFKit-DocumentEditor')}\n      onClick={handleDocumentEditorClick}\n      onKeyDown={handleKeyDown}\n      tabIndex={'-1' as any}\n      ref={docEditorRef as any}\n    >\n      <div\n        className={classNames(\n          styles.toolbar.root,\n          styles.toolbarRoot,\n          'PSPDFKit-DocumentEditor-Toolbar',\n        )}\n        style={{\n          flex: 0,\n        }}\n      >\n        <div ref={toolbarRef} className={styles.toolbarContainer}>\n          <DocumentEditorFittingToolbarButton\n            items={fittingToolbarItems}\n            builtInItems={builtInToolbarItems as any}\n            moveDialog={moveDialog}\n            CSS_HACK={props.CSS_HACK}\n          />\n        </div>\n        <DocumentEditorOverflowingToolbarButton\n          builtInItems={builtInToolbarItems as any}\n          items={overflowingToolbarItems}\n          CSS_HACK={props.CSS_HACK}\n          frameWindow={frameWindow}\n        />\n      </div>\n\n      <div className={styles.pagesView}>\n        <ResizeHelperComponent onResize={onResize} />\n        {!moveToolbarButtonFits && moveDialog}\n        <div\n          className={classNames(styles.pagesGrid, {\n            [styles.pagesGridLargeThumbnails]: useLargeThumbnails,\n          })}\n        >\n          <GridViewComponent\n            canInsert={canInsert}\n            totalItems={editorPages.size}\n            width={editorSize.width}\n            height={editorSize.height}\n            itemScale={props.scale}\n            renderItemCallback={renderPage}\n            renderDragPreviewCallback={renderDragPreview}\n            onItemPress={handlePageClick}\n            selectedItemIndexes={selectedIndexes}\n            cssPrefix=\"PSPDFKit-DocumentEditor\"\n            moveCursor={moveCursor != null ? moveCursor : undefined}\n            onItemsMove={draggingEnabled ? handleMovePages : undefined}\n          />\n        </div>\n      </div>\n\n      <div className={classNames(styles.bottomBar, 'PSPDFKit-DocumentEditor-Footer')}>\n        {footerComponent}\n      </div>\n    </div>\n  )\n}\n\ntype ImportedDocumentPlaceholderProps = {\n  styles: any\n  width: number\n  height: number\n  movePreview?: boolean\n  formatMessage: IntlShape['formatMessage']\n}\n\nconst ImportedDocumentPlaceholder = (props: ImportedDocumentPlaceholderProps) => {\n  const { styles, formatMessage, movePreview } = props\n\n  return (\n    <div\n      style={{\n        width: props.width,\n        height: props.height,\n      }}\n      className={classNames(styles.importedDocument, {\n        [styles.importedDocumentMovePreview]: movePreview,\n      })}\n    >\n      <div className={styles.importedDocumentIconCircle}>\n        <InlineSVGComponent src={require('../../styles/images/editor/importDocument.svg')} />\n      </div>\n\n      <span className={styles.importedDocumentInfo}>\n        {formatMessage(messages.documentMergedHere)}\n      </span>\n    </div>\n  )\n}\n\ntype Rotation = 0 | 90 | 180 | 270\ntype EditorPage =\n  | {\n      type: 'page'\n      page: Page\n      label: string\n      rotation: Rotation\n      dupeOf?: string\n      dupeNumber?: number\n    }\n  | {\n      type: 'newPage'\n      label: string\n      rotation: Rotation\n      size: Size\n    }\n  | {\n      type: 'importedDocument'\n      label: string\n    }\n\nconst getEditorPages = (\n  pages: List<Page>,\n  operations: List<DocumentOperation | List<DocumentOperation>>,\n  formatMessage: IntlShape['formatMessage'],\n  uwpFilenames: Map<string, string>,\n): List<EditorPage> => {\n  const flattenedOperations = operations.flatten() as List<DocumentOperation>\n  let editorPages: List<EditorPage> = pages.map(\n    (page: Page): EditorPage => ({\n      type: 'page',\n      page: page,\n      rotation: 0,\n      label: page.pageLabel,\n    }),\n  )\n\n  const getDupeNumber = (editorPage: EditorPage): number => {\n    const originalLabel = editorPage['dupeOf'] || editorPage.label\n    let highestDupeNumber = 0\n\n    for (const editorPage of editorPages) {\n      if (\n        'dupeOf' in editorPage &&\n        editorPage.dupeOf != null &&\n        editorPage.dupeOf === originalLabel &&\n        editorPage.dupeNumber != null &&\n        editorPage.dupeNumber > highestDupeNumber\n      ) {\n        highestDupeNumber = editorPage.dupeNumber\n      }\n    }\n\n    return highestDupeNumber + 1\n  }\n\n  let newPageCount = 0\n\n  for (const operation of flattenedOperations) {\n    switch (operation.type) {\n      case 'addPage': {\n        let editorIndex\n\n        if (operation['afterPageIndex'] != null) {\n          editorIndex = operation['afterPageIndex'] + 1\n        } else {\n          invariant(operation['beforePageIndex'] != null)\n          editorIndex = operation['beforePageIndex']\n        }\n\n        ++newPageCount\n        editorPages = editorPages.insert(editorIndex, {\n          type: 'newPage',\n          // TODO(marco): Include count as part of localized string\n          // We need to give each new page a unique label since we use them as\n          // keys\n          label: `${formatMessage(messages.newPage)} ${newPageCount}`,\n          rotation: 0,\n          size: new Size({\n            width: operation.pageWidth,\n            height: operation.pageHeight,\n          }),\n        })\n        break\n      }\n\n      case 'removePages': {\n        // Store values ahead of time, since we can't rely on indexes while\n        // editorPages is being modified\n        const editorPagesToDelete = operation.pageIndexes.map(index => editorPages.get(index))\n\n        for (const editorPage of editorPagesToDelete) {\n          invariant(editorPage != null)\n\n          const index = editorPages.indexOf(editorPage)\n\n          editorPages = editorPages.delete(index)\n        }\n\n        break\n      }\n\n      case 'rotatePages': {\n        for (const index of operation.pageIndexes) {\n          const editorPage = editorPages.get(index)\n\n          invariant(editorPage != null)\n\n          let newEditorPage\n          let newRotation\n\n          invariant(editorPage.type === 'page' || editorPage.type === 'newPage')\n\n          const currentRotation = editorPage.rotation\n\n          // We want to ensure that our rotation can only be 0, 90, 180, or 270,\n          // so that our rendering logic is simpler\n          if (operation.rotateBy === 90) {\n            if (currentRotation === 270) {\n              newRotation = 0\n            } else {\n              newRotation = currentRotation + operation.rotateBy\n            }\n          } else {\n            if (currentRotation === 90) {\n              newRotation = 0\n            } else if (currentRotation === 180) {\n              newRotation = 90\n            } else if (currentRotation === 270) {\n              newRotation = 180\n            } else {\n              newRotation = currentRotation + operation.rotateBy\n            }\n          }\n\n          invariant(\n            newRotation === 0 || newRotation === 90 || newRotation === 180 || newRotation === 270,\n          )\n\n          if (editorPage.type === 'page') {\n            newEditorPage = { ...editorPage, rotation: newRotation }\n          } else if (editorPage.type === 'newPage') {\n            newEditorPage = { ...editorPage, rotation: newRotation }\n          } else {\n            throw new PSPDFKitError('Rotation is not allowed on imported documents')\n          }\n\n          editorPages = editorPages.set(index, newEditorPage)\n        }\n\n        break\n      }\n\n      case 'duplicatePages': {\n        // We need to store the pages before looping over and modifying editorPages\n        const editorPagesToDuplicate = operation.pageIndexes.map(index => editorPages.get(index))\n\n        for (const editorPage of editorPagesToDuplicate) {\n          invariant(editorPage != null)\n          invariant(editorPage.type === 'page')\n\n          const dupeNumber = getDupeNumber(editorPage)\n          const originalLabel = editorPage.dupeOf || editorPage.label\n          const index = editorPages.indexOf(editorPage)\n\n          editorPages = editorPages.insert(\n            index + 1,\n            Object.assign({}, editorPage, {\n              label: `${originalLabel} (${dupeNumber})`,\n              dupeOf: originalLabel,\n              dupeNumber: dupeNumber,\n            }),\n          )\n        }\n\n        break\n      }\n\n      case 'movePages': {\n        const fromIndexes = operation.pageIndexes\n\n        if (fromIndexes.length === 1) {\n          // Moving a single page\n          const fromIndex = fromIndexes[0]\n          let toIndex\n\n          if (operation['beforePageIndex'] != null) {\n            toIndex = operation['beforePageIndex']\n          } else {\n            invariant(operation['afterPageIndex'] != null)\n            toIndex = operation['afterPageIndex'] + 1\n          }\n\n          const fromPage = editorPages.get(fromIndex)\n\n          invariant(fromPage != null)\n\n          const toPage = editorPages.get(toIndex)\n          const nPages = editorPages.size\n\n          editorPages = editorPages.delete(fromIndex)\n\n          if (toIndex === nPages) {\n            editorPages = editorPages.push(fromPage)\n          } else if (toIndex === 0) {\n            editorPages = editorPages.unshift(fromPage)\n          } else {\n            invariant(toPage != null)\n            editorPages = editorPages.insert(editorPages.indexOf(toPage), fromPage)\n          }\n        } else {\n          // Moving multiple pages\n          const sortedFromIndexes = fromIndexes.slice().sort()\n\n          if (operation['beforePageIndex'] != null) {\n            // We only use beforePageIndex when moving to the beginning of the\n            // document.\n            invariant(operation['beforePageIndex'] === 0)\n\n            // These should be reversed now because pushing each one to the\n            // beginning will result in them being reversed again.\n            const fromPages = sortedFromIndexes.map(index => editorPages.get(index)).reverse()\n\n            for (const page of fromPages) {\n              invariant(page != null)\n              // Move the page to the beginning of the document\n              editorPages = editorPages.delete(editorPages.indexOf(page))\n              editorPages = editorPages.unshift(page)\n            }\n          } else {\n            // Moving pages after a certain page in the document\n            invariant(operation['afterPageIndex'] != null)\n\n            const afterPage = editorPages.get(operation['afterPageIndex'])\n\n            invariant(afterPage != null)\n\n            const fromPages = sortedFromIndexes.map(index => editorPages.get(index)).reverse()\n\n            for (const page of fromPages) {\n              invariant(page != null)\n              // Move the page after the destination page. We need to find the\n              // page each time because the list changes after every move.\n              editorPages = editorPages.delete(editorPages.indexOf(page))\n              editorPages = editorPages.insert(editorPages.indexOf(afterPage) + 1, page)\n            }\n          }\n        }\n\n        break\n      }\n\n      case 'importDocument': {\n        let index\n\n        if ('beforePageIndex' in operation && operation.beforePageIndex != null) {\n          index = operation.beforePageIndex\n        } else {\n          invariant('afterPageIndex' in operation && operation.afterPageIndex != null)\n          index = operation.afterPageIndex + 1\n        }\n\n        let docName: string\n\n        if (typeof operation.document === 'string') {\n          // UWP imported document\n          const path: string = operation.document\n\n          invariant(uwpFilenames.has(path))\n          // 'Imported Document' should never be used due to the above check\n          docName = uwpFilenames.get(path, 'Imported Document')\n        } else {\n          invariant(typeof operation.document.name === 'string')\n\n          docName = operation.document.name\n        }\n\n        editorPages = editorPages.insert(index, {\n          type: 'importedDocument',\n          label: docName,\n        })\n        break\n      }\n\n      case 'keepPages':\n        throw Error('Unknown document operation')\n\n      case 'applyInstantJson':\n        throw Error('Unknown document operation')\n\n      case 'applyXfdf':\n        throw Error('Unknown document operation')\n\n      case 'flattenAnnotations':\n        throw Error('Unknown document operation')\n\n      case 'performOcr':\n        throw Error('Unknown document operation')\n\n      case 'setPageLabel':\n        throw Error('Unknown document operation')\n\n      case 'applyRedactions':\n        throw Error('Unknown document operation')\n\n      case 'updateMetadata':\n        throw Error('Unknown document operation')\n\n      case 'cropPages':\n        throw Error('Unknown document operation')\n\n      default:\n        // @ts-expect-error\n        absurd(operation.type)\n    }\n  }\n\n  return editorPages\n}\n\ntype MovePreviewProps = {\n  pages: React.ReactNode[]\n  previewCount?: number\n  style: 'straight' | 'loose'\n  styles: Record<string, string>\n}\n\nconst MovePreviewComponent = (props: MovePreviewProps) => {\n  const { pages, style, styles, previewCount } = props\n\n  return (\n    <div className={styles.movePreview}>\n      <div\n        className={classNames(styles.movePreviewPages, {\n          [styles.movePreviewPagesLoose]: style === 'loose',\n        })}\n      >\n        {pages}\n      </div>\n\n      <div className={styles.movePreviewCount}>{previewCount ? previewCount : pages.length}</div>\n    </div>\n  )\n}\n\nexport default DocumentEditorComponent\n\nconst messages = defineMessages({\n  newPage: {\n    id: 'newPage',\n    defaultMessage: 'New Page',\n    description: 'Add new page',\n  },\n  removePage: {\n    id: 'removePage',\n    defaultMessage: 'Remove Page',\n    description: 'Remove page',\n  },\n  duplicatePage: {\n    id: 'duplicatePage',\n    defaultMessage: 'Duplicate Page',\n    description: 'Duplicate page',\n  },\n  rotatePageLeft: {\n    id: 'rotatePageLeft',\n    defaultMessage: 'Rotate Page Left',\n    description: 'Rotate Page Left',\n  },\n  rotatePageRight: {\n    id: 'rotatePageRight',\n    defaultMessage: 'Rotate Page Right',\n    description: 'Rotate Page Right',\n  },\n  mergeDocument: {\n    id: 'mergeDocument',\n    defaultMessage: 'Merge Document',\n    description: 'Merge Document',\n  },\n  selectAll: {\n    id: 'selectAll',\n    defaultMessage: 'Select All',\n    description: 'Select All Pages',\n  },\n  selectNone: {\n    id: 'selectNone',\n    defaultMessage: 'Select None',\n    description: 'Deselect All Pages',\n  },\n  openMoveDialog: {\n    id: 'openMoveDialog',\n    defaultMessage: 'Move',\n    description: 'Open dialog for moving pages to specific location in the document',\n  },\n  move: {\n    id: 'move',\n    defaultMessage: 'Move',\n    description: 'Move pages to specific location in the document',\n  },\n  moveBefore: {\n    id: 'moveBefore',\n    defaultMessage: 'Move Before',\n    description: 'Move page before previous one',\n  },\n  moveAfter: {\n    id: 'moveAfter',\n    defaultMessage: 'Move After',\n    description: 'Move page after next one',\n  },\n  documentMergedHere: {\n    id: 'documentMergedHere',\n    defaultMessage: 'Document will be merged here',\n    description: 'Placeholder for the imported document',\n  },\n  pagesSelected: {\n    id: 'pagesSelected',\n    defaultMessage: `{arg0, plural,\n      =0 {{arg0} Pages}\n      one {{arg0} Page}\n      two {{arg0} Pages}\n      other {{arg0} Pages}\n    }`,\n    description: 'Number of pages selected.',\n  },\n  insertAfterPage: {\n    id: 'insertAfterPage',\n    defaultMessage: 'Insert after page',\n    description: 'Move selected pages after designated page index.',\n  },\n  docEditorMoveBeginningHint: {\n    id: 'docEditorMoveBeginningHint',\n    defaultMessage: 'Type 0 to move selected pages to the beginning of the document.',\n    description:\n      'Instructions for how to move pages to the beginning of the document when using the Move button in the Document Editor.',\n  },\n})\n","var map = {\n\t\"./add.svg\": 14809,\n\t\"./duplicate.svg\": 89950,\n\t\"./extract.svg\": 61030,\n\t\"./help.svg\": 19774,\n\t\"./importDocument.svg\": 42900,\n\t\"./move.svg\": 72303,\n\t\"./moveLeft.svg\": 40020,\n\t\"./moveRight.svg\": 46716,\n\t\"./multiplePages.svg\": 17233,\n\t\"./redo.svg\": 68433,\n\t\"./remove.svg\": 89316,\n\t\"./rotateLeft.svg\": 10003,\n\t\"./rotateRight.svg\": 17756,\n\t\"./selectAll.svg\": 56070,\n\t\"./selectNone.svg\": 48767,\n\t\"./undo.svg\": 16751\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 33720;"],"names":["DocumentEditorFittingToolbarButton","React","items","builtInItems","moveDialog","CSS_HACK","components","ToolbarButtonComponent","styles","map","item","index","builtInItem","find","b","type","style","flex","className","key","moveButtonContainer","icon","require","classNames","onPress","e","svgName","toCamelCase","node","rest","ToolNodeComponent","id","DocumentEditorOverflowingToolbarButton","ToolbarDropdownGroupComponent","frameWindow","_items","builtIn","length","size","width","height","discreteDropdown","caretDirection","role","ItemComponent","isSelectedItem","state","itemComponentProps","undefined","toolbar","dropdownButton","onSelect","event","selectedItem","disabled","noInitialSelection","a4Size","Size","A4_WIDTH","A4_HEIGHT","ImportedDocumentPlaceholder","props","formatMessage","movePreview","importedDocument","importedDocumentMovePreview","importedDocumentIconCircle","InlineSVGComponent","src","importedDocumentInfo","messages","documentMergedHere","getEditorPages","pages","operations","uwpFilenames","flattenedOperations","flatten","editorPages","page","rotation","label","pageLabel","getDupeNumber","editorPage","originalLabel","highestDupeNumber","dupeOf","dupeNumber","newPageCount","operation","editorIndex","invariant","insert","newPage","pageWidth","pageHeight","editorPagesToDelete","pageIndexes","get","indexOf","delete","newEditorPage","newRotation","currentRotation","rotateBy","PSPDFKitError","set","editorPagesToDuplicate","Object","assign","fromIndexes","fromIndex","toIndex","fromPage","toPage","nPages","push","unshift","sortedFromIndexes","slice","sort","fromPages","reverse","afterPage","docName","beforePageIndex","afterPageIndex","document","path","has","name","Error","absurd","MovePreviewComponent","previewCount","movePreviewPages","movePreviewPagesLoose","movePreviewCount","onCancel","onDialog","backend","footerItems","toolbarItems","useSelector","documentEditorFooterItems","documentEditorToolbarItems","toJS","shallowEqual","dispatch","useDispatch","useIntl","setUwpFilenames","Map","setOperations","List","undoDepth","setUndoDepth","undidOperations","selectedIndexes","setSelectedIndexes","Set","isCommitting","setIsCommitting","useLargeThumbnails","setUseLargeThumbnails","moveDialogRef","moveDialogInputRef","moveDialogShown","setMoveDialogShown","moveDialogInputValue","setMoveDialogInputValue","syncMoveDialogFocus","input","current","ownerDocument","activeElement","focus","blur","setMoveDialogShownAndNotify","shown","pushOperation","operationOrOperationList","isAliveRef","handleAddClick","firstPage","pageSize","backgroundColor","Color","first","clear","handleRemoveClick","toArray","handleDuplicateClick","handleRotateLeftClick","handleRotateRightClick","handleMoveClick","handleMoveDialogInputChange","value","target","newValue","parsedValue","parseInt","isNaN","Math","min","max","toString","moveDialogPageIndex","getIsContiguousSelection","selection","lastIndex","isNonContiguous","canMoveToPageIndex","pageIndex","dragSelection","isContiguous","includes","canMoveToDialogPageIndex","movePagesTo","nextSelectedIndexes","selectedIndexesStart","forEach","selectedIndex","add","handleMoveDialogFormSubmit","preventDefault","handleDocumentEditorClick","classList","contains","moveToolbarButton","handleMoveLeftClick","toList","handleMoveRightClick","handleUndoClick","handleRedoClick","handleImportClick","async","position","inputEl","createElement","accept","onclick","HTMLInputElement","onchange","files","newOperations","file","showAlert","findIndex","treatImportedDocumentAsOnePage","click","handleSelectAllClick","keySeq","toSet","handleSelectNoneClick","handlePageClick","handleCancelClick","handleSaveClick","applyOperationsAndReloadDocument","handleSaveAsClick","buffer","exportPDFWithOperations","serializeDocumentOperation","downloadPdfFromBuffer","renderPage","maxSize","PageThumbnailComponent","rotatedWidth","rotatedHeight","computeThumbnailParams","containerWidth","containerHeight","canRemove","canRotate","canDuplicate","canMove","isEmpty","canMoveLeft","canMoveRight","canUndo","canRedo","canSelectAll","canSelectNone","docEditorRef","docEditorFocusedRef","docEditor","handleKeyDown","tagName","toLowerCase","metaOrCtrl","metaKey","ctrlKey","metaOrCtrlOnly","shiftKey","altKey","altKeyOnly","noModifiers","addEventListener","removeEventListener","toolbarButtonClassName","toolbarButton","builtInToolbarItems","children","removePage","duplicatePage","rotatePageLeft","rotatePageRight","openMoveDialog","moveBefore","moveAfter","mergeDocument","genericMessages","selectAll","selectNone","fittingToolbarItemsIndex","setFittingToolbarItemsIndex","Number","POSITIVE_INFINITY","fittingToolbarItems","overflowingToolbarItems","filter","dropdownGroup","editorSize","setEditorSize","onResize","rect","prevEditorSize","toolbarRef","computedStyles","defaultView","getComputedStyle","totalWidth","getPropertyValue","call","child","clientWidth","innerWidth","BREAKPOINT_SM","stopPropagation","moveToolbarButtonFits","moveDialogDetached","ref","onSubmit","moveDialogForm","moveDialogFormLabel","insertAfterPage","moveDialogFormInput","onChange","moveDialogMoveButton","move","moveDialogHint","moveDialogHintText","docEditorMoveBeginningHint","handleMovePages","oldIndexes","newIndex","moveCursor","renderMoveDialogCursor","renderedPages","previewContent","footerItemsBuiltIn","cancel","element","pagesSelectedIcon","pagesSelected","arg0","pagesSelectedIndicator","pagesSelectedIndicatorShown","spacer","LoadingComponent","hide","save","primary","footerComponent","footerItem","i","builtInFooterItem","onClick","onKeyDown","tabIndex","root","toolbarRoot","toolbarContainer","pagesView","ResizeHelperComponent","pagesGrid","pagesGridLargeThumbnails","GridViewComponent","canInsert","selectedPages","totalItems","itemScale","scale","renderItemCallback","renderDragPreviewCallback","targetIndex","itemSize","it","onItemPress","selectedItemIndexes","cssPrefix","onItemsMove","bottomBar","defineMessages","defaultMessage","description","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","resolve","module","exports"],"sourceRoot":""}